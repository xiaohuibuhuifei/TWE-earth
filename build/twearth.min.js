!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).twearth=t()}(this,(function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t=e((function(e){return void 0===e}));var r=e((function(e){return null==e}));var n=e((function(e){return null===e}));function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(i=n.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?o:String(o)),n)}var i,o}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function u(e,t,r){return u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&a(i,r.prototype),i},u.apply(null,arguments)}function A(e){var t="function"==typeof Map?new Map:void 0;return A=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return u(e,arguments,o(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)},A(e)}var l=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).name="TWEarthGlobalError",r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,a(t,r),n}(A(Error)),c="请引入Cesium.js",f="未找到Viewer, 请检查...",s={checkCesium:function(){try{if(t(Cesium))throw new l(c)}catch(e){throw new l(c)}},checkViewer:function(e){if(e)return e;try{if(t(window.viewer)||n(window.viewer))throw new l(f);return window.viewer}catch(e){throw new l(f)}},checkNull:function(e,t){if(r(e))throw new l(t||"参数不能为空")}},p=function(){function e(){this._definitionChanged=new Cesium.Event}var t,r,n,o=e.prototype;return o.getType=function(e){return Cesium.Material.FlagMaterialType},o.getValue=function(e,t){return t.time=performance.now()/1e4,t},o.equals=function(t){return this===t||t instanceof e},t=e,(r=[{key:"definitionChanged",get:function(){return this._definitionChanged}},{key:"isConstant",get:function(){return!1}}])&&i(t.prototype,r),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Cesium.FlagMaterialProperty=p,Cesium.Material.FlagMaterialProperty="FlagMaterialProperty",Cesium.Material.FlagMaterialType="FlagMaterialType",Cesium.Material.FlagMaterialSource="\n  czm_material czm_getMaterial(czm_materialInput materialInput)\n  {\n    czm_material material = czm_getDefaultMaterial(materialInput);\n    vec2 st = materialInput.st;\n    vec4 colorImage = texture(image, vec2(fract(st.t - time), st.t));\n    vec4 fragColor;\n    fragColor.rgb = color.rgb / 1.0;\n    fragColor = czm_gammaCorrect(fragColor);\n    material.alpha = colorImage.a * color.a;\n    material.diffuse = color.rgb;\n    material.emission = fragColor.rgb;\n    return material;\n  }\n  ",Cesium.Material._materialCache.addMaterial(Cesium.Material.FlagMaterialType,{fabric:{type:Cesium.Material.FlagMaterialType,uniforms:{color:new Cesium.Color(1,0,0,.5),image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAAgCAYAAABkS8DlAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAADSSURBVHja7NYxEoUgDEDBYM39z2qHtZViwMFxt1FJnF/98ZXWWkRE7LWWOOt5Lsm9q/vsbu9Zdtazs/J19O5bs1XPZrwze/6V31zxbOZs1n905Wt2p3f25GzE7ohv6q3nLQCA3xEAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAA8g4AAAD//wMA4WEFTJOT5UIAAAAASUVORK5CYII=",time:0},source:Cesium.Material.FlagMaterialSource},translucent:function(e){return!0}});return{author:"xiaohui",version:"0.0.2",organization:"Zhongchuangzhiwei Technology Co., LTD",blog:"https://blog.csdn.net/u010358183",initEarth:function(e){s.checkCesium(),s.checkNull(e,"请指定承载地球实例的DOM元素或ID");var t=new Cesium.Viewer(e,{animation:!1,baseLayerPicker:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!1,timeline:!1,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!1,contextOptions:{requestWebgl1:!0}});return t.cesiumWidget.creditContainer.style.display="none",t},putRectangle:function(){viewer.entities.add({rectangle:{coordinates:Cesium.Rectangle.fromDegrees(105,32,109,35),material:new p}})},putWall:function(){var e=1e5,t=[Cesium.Cartesian3.fromDegrees(-75.1704,39.9319),Cesium.Cartesian3.fromDegrees(-78.1692,39.9314)];viewer.entities.add({name:"Wall",wall:{positions:t,maximumHeights:[e,e],minimumHeights:[0,0],material:new p}})},Inspect:s}}));
